"use strict";module.exports=function(a){require("source-map-support").install();var d=require("./core/opcua-iiot-core");a.nodes.registerType("OPCUA-IIoT-Server-ASO",function(e){a.nodes.createNode(this,e),this.nodeId=e.nodeId,this.browsename=e.browsename,this.displayname=e.displayname,this.objecttype=e.objecttype,this.referencetype=e.referencetype,this.referenceNodeId=e.referenceNodeId,this.datatype=e.datatype,this.value=e.value,this.name=e.name;var o=this;o.bianco=d.createBiancoIIoT(),d.assert(o.bianco.iiot),d.internalDebugLog("Open ASO Node"),o.on("input",function(e){"inject"===e.nodetype&&(o.nodeId=e.topic||o.nodeId,o.datatype=e.datatype||o.datatype,o.value=e.payload||o.value),e={payload:{},topic:"ServerAddressSpaceObject",nodetype:"inject",injectType:"ASO"},o.nodeId.includes("i=")||o.nodeId.includes("s=")||o.nodeId.includes("b=")?(e.payload.nodeId=o.nodeId,e.payload.browsename=o.browsename,e.payload.displayname=o.displayname,e.payload.objecttype=o.objecttype,e.payload.datatype=o.datatype,e.payload.value=o.value,e.payload.referenceNodeId=o.referenceNodeId||d.nodeOPCUA.OBJECTS_ROOT,e.payload.referencetype=o.referencetype||d.nodeOPCUA.ReferenceTypeIds.Organizes,d.internalDebugLog("node msg stringified: "+JSON.stringify(e)),o.send(e)):o.error(new Error("ASO NodeId Is Not Valid"),e)}),o.on("close",function(e){d.internalDebugLog("Close ASO Node"),d.resetBiancoNode(o),e()})})};
//# sourceMappingURL=maps/opcua-iiot-server-aso.js.map
